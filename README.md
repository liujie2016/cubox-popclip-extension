# Universal Saver PopClip Extension

<div align="center">

![Universal Saver Logo](https://raw.githubusercontent.com/liujie2016/cubox-popclip-extension/main/Cubox%20Saver.popclipext/icon.svg)

**ä¸€é”®ä¿å­˜é€‰ä¸­æ–‡æœ¬åˆ°ä»»ä½•æ”¯æŒAPIçš„æœåŠ¡çš„ PopClip æ‰©å±•**

[![Version](https://img.shields.io/badge/version-v1.0-blue.svg)](https://github.com/liujie2016/cubox-popclip-extension/releases)
[![PopClip](https://img.shields.io/badge/PopClip-4155+-green.svg)](https://pilotmoon.com/popclip/)
[![License](https://img.shields.io/badge/license-MIT-orange.svg)](LICENSE)

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

</div>

## ä¸­æ–‡

### ğŸ¯ é¡¹ç›®ç®€ä»‹

Universal Saver PopClip Extension æ˜¯ä¸€ä¸ªä¸“ä¸º macOS PopClip åº”ç”¨è®¾è®¡çš„é€šç”¨æ‰©å±•æ’ä»¶ï¼Œè®©æ‚¨èƒ½å¤Ÿä¸€é”®å°†é€‰ä¸­çš„æ–‡æœ¬å¿«é€Ÿä¿å­˜åˆ°ä»»ä½•æ”¯æŒAPIçš„æœåŠ¡ä¸­ã€‚æ— è®ºæ˜¯ç½‘é¡µæ–‡ç« ã€PDF æ–‡æ¡£è¿˜æ˜¯ä»»ä½•åº”ç”¨ä¸­çš„æ–‡æœ¬ï¼Œåªéœ€é€‰ä¸­å³å¯è½»æ¾ä¿å­˜ã€‚

### âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ **ä¸€é”®ä¿å­˜**ï¼šé€‰ä¸­æ–‡æœ¬åä¸€é”®ä¿å­˜åˆ°é…ç½®çš„APIæœåŠ¡
- âš™ï¸ **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰ API URL å’Œ API Key
- âœ… **å®æ—¶åé¦ˆ**ï¼šä¿å­˜æˆåŠŸ/å¤±è´¥å³æ—¶æç¤º
- ğŸ”’ **å®‰å…¨å¯é **ï¼šä½¿ç”¨ç›®æ ‡æœåŠ¡çš„ APIï¼Œæ•°æ®ä¼ è¾“å®‰å…¨
- ğŸ“± **å¼‚æ­¥å¤„ç†**ï¼šä¸é˜»å¡ç•Œé¢æ“ä½œï¼Œç”¨æˆ·ä½“éªŒæµç•…

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šmacOS
- **PopClip ç‰ˆæœ¬**ï¼š4155 æˆ–æ›´é«˜
- **API æœåŠ¡è´¦æˆ·**ï¼šéœ€è¦ä¸€ä¸ªæ”¯æŒæ–‡æœ¬ä¿å­˜APIçš„æœåŠ¡è´¦æˆ·

### åŠŸèƒ½æ¼”ç¤º

![æ¼”ç¤º](https://github.com/user-attachments/assets/8fa918bb-8e12-4317-8087-978bebca4527)



### ğŸš€ å¿«é€Ÿå¼€å§‹

#### 1. ä¸‹è½½å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/duyananbryce/cubox-popclip-extension.git

# è¿›å…¥ç›®å½•
cd cubox-popclip-extension

# åŒå‡»å®‰è£…
open "Cubox Saver.popclipext"
```

æˆ–è€…ç›´æ¥ä¸‹è½½ [æœ€æ–°ç‰ˆæœ¬](https://github.com/duyananbryce/cubox-popclip-extension/releases) å¹¶åŒå‡» `Cubox Saver.popclipext` æ–‡ä»¶å®‰è£…ã€‚

#### 2. è·å– API URL å’Œ API Key

**è·å–æ­¥éª¤**ï¼š
1. è®¿é—®ç›®æ ‡æœåŠ¡çš„ç½‘ç«™å¹¶ç™»å½•
2. æ‰¾åˆ° API æˆ–å¼€å‘è€…è®¾ç½®é¡µé¢
3. è·å– API URL å’Œ API Key (æˆ– Token)
4. å¤åˆ¶è¿™äº›ä¿¡æ¯ç”¨äºé…ç½®æ‰©å±•

**API URL æ ¼å¼**ï¼š
```
ä¾‹å¦‚: https://aisdk.chatgo.pro/api/note/create
```

**API Key æ ¼å¼**ï¼š
```
ä¾‹å¦‚: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### 3. é…ç½®æ’ä»¶

1. æ‰“å¼€ PopClip è®¾ç½®
2. æ‰¾åˆ° "Universal Saver" æ‰©å±•
3. é…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š

| é…ç½®é¡¹ | è¯´æ˜ | å¿…éœ€ |
|--------|------|------|
| **API URL** | ç›®æ ‡æœåŠ¡çš„ API é“¾æ¥ | âœ… å¿…éœ€ |
| **API Key** | ç›®æ ‡æœåŠ¡çš„ API Key æˆ– Token | âœ… å¿…éœ€ |

### ğŸ“– ä½¿ç”¨æ–¹æ³•

1. **é€‰ä¸­æ–‡æœ¬**ï¼šåœ¨ä»»æ„åº”ç”¨ä¸­é€‰ä¸­æ‚¨æƒ³è¦ä¿å­˜çš„æ–‡æœ¬
2. **ç‚¹å‡»ä¿å­˜**ï¼šåœ¨ PopClip å¼¹å‡ºçš„æ“ä½œæ ä¸­ç‚¹å‡» "Save to API Service" æŒ‰é’®
3. **æŸ¥çœ‹ç»“æœ**ï¼šæ’ä»¶ä¼šæ˜¾ç¤ºä¿å­˜æˆåŠŸæˆ–å¤±è´¥çš„æç¤º

### ğŸ”„ Version History

| ç‰ˆæœ¬ | å‘å¸ƒæ—¥æœŸ | ä¸»è¦æ›´æ–° |
|------|----------|----------|
| **v1.0** | 2025-08-29 | ğŸ‰ é¦–æ¬¡å‘å¸ƒé€šç”¨ç‰ˆæœ¬ |

### ğŸ”§ æ•…éšœæ’é™¤

#### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|----------|------|----------|
| "Please set API URL in settings" | æœªé…ç½® API URL | åœ¨æ’ä»¶è®¾ç½®ä¸­æ·»åŠ ç›®æ ‡æœåŠ¡çš„ API URL |
| "Please set your API URL" | æœªé…ç½® API URL | åœ¨æ’ä»¶è®¾ç½®ä¸­æ·»åŠ ç›®æ ‡æœåŠ¡çš„ API URL |
| "No text selected" | æœªé€‰ä¸­æ–‡æœ¬ | è¯·å…ˆé€‰ä¸­ä¸€äº›æ–‡æœ¬å†ä½¿ç”¨æ’ä»¶ |
| "Authentication failed" | API è®¤è¯å¤±è´¥ | æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡® |
| "Network error" | ç½‘ç»œè¿æ¥é—®é¢˜ | æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯• |
| "Using XMLHttpRequest requires the 'network' entitlement" | ç¼ºå°‘ç½‘ç»œæƒé™ | ç¡®ä¿æ‰©å±•å…·æœ‰ç½‘ç»œæƒé™ |

#### Debugging Steps

1. **Verify API URL and API Key**:
   ```bash
   curl -X POST "YOUR_API_URL" \
        -H "Content-Type: application/json" \
        -H "Authorization: YOUR_API_KEY" \
        -d '{"content":"æµ‹è¯•æ–‡æœ¬"}'
   ```

2. **Check Network Connection**: Ensure you can access the target service's website

3. **Reinstall Extension**: Delete the old version and reinstall

### ğŸ› ï¸ æŠ€æœ¯æ¶æ„

#### æ ¸å¿ƒæ–‡ä»¶ç»“æ„

```
Cubox Saver.popclipext/
â”œâ”€â”€ Config.json          # æ’ä»¶é…ç½®å’Œå…ƒæ•°æ®
â”œâ”€â”€ action.js           # æ ¸å¿ƒé€»è¾‘å®ç°
â”œâ”€â”€ icon.svg            # æ’ä»¶å›¾æ ‡
â””â”€â”€ README.md           # è¯´æ˜æ–‡æ¡£
```

#### æŠ€æœ¯ç‰¹æ€§

- **å¼‚æ­¥ç½‘ç»œè¯·æ±‚**ï¼šä½¿ç”¨ XMLHttpRequest å¼‚æ­¥æ¨¡å¼ï¼Œä¸é˜»å¡ UI
- **é”™è¯¯å¤„ç†æœºåˆ¶**ï¼šå®Œå–„çš„é”™è¯¯æ•è·å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- **API å…¼å®¹æ€§**ï¼šæ”¯æŒä»»ä½•æ¥å— JSON æ ¼å¼æ–‡æœ¬å†…å®¹çš„ API æœåŠ¡
- **è®¤è¯æ”¯æŒ**ï¼šæ”¯æŒé€šè¿‡ Authorization å¤´è¿›è¡Œ API Key è®¤è¯

### ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤ Pull Request

### ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

### ğŸ™ è‡´è°¢

- [PopClip](https://pilotmoon.com/popclip/) - ä¼˜ç§€çš„ macOS æ–‡æœ¬æ“ä½œå·¥å…·
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„åé¦ˆ

---

## English

### ğŸ¯ Project Overview

Universal Saver PopClip Extension is a powerful extension designed for macOS PopClip application, enabling you to save selected text to any service with API with just one click. Whether it's web articles, PDF documents, or text from any application, you can easily save them.

### âœ¨ Features

- ğŸš€ **One-Click Save**: Save selected text to configured API service instantly
- âš™ï¸ **Flexible Configuration**: Customizable API URL and API Key
- âœ… **Real-time Feedback**: Instant success/failure notifications
- ğŸ”’ **Secure & Reliable**: Uses target service's API with secure data transmission
- ğŸ“± **Asynchronous Processing**: Non-blocking UI operations for smooth user experience

### ğŸ“‹ Requirements

- **OS**: macOS
- **PopClip Version**: 4155 or higher
- **API Service Account**: An account with a service that supports text saving API

### ğŸš€ Quick Start

#### 1. Installation

```bash
# Clone repository
git clone https://github.com/duyananbryce/cubox-popclip-extension.git

# Enter directory
cd cubox-popclip-extension

# Install by double-clicking
open "Cubox Saver.popclipext"
```

Or download the [latest release](https://github.com/duyananbryce/cubox-popclip-extension/releases) and double-click the `Cubox Saver.popclipext` file.

#### 2. Get API URL and API Key

**Steps**:
1. Visit the target service's website and log in
2. Find the API or developer settings page
3. Get the API URL and API Key (or Token)
4. Copy this information for configuring the extension

**API URL Format**:
```
e.g. https://aisdk.chatgo.pro/api/note/create
```

**API Key Format**:
```
e.g. sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### 3. Configure Extension

1. Open PopClip settings
2. Find "Universal Saver" extension
3. Configure the following options:

| Option | Description | Required |
|--------|-------------|----------|
| **API URL** | API link from target service | âœ… Required |
| **API Key** | API Key or Token from target service | âœ… Required |

### ğŸ“– Usage

1. **Select Text**: Select the text you want to save in any application
2. **Click Save**: Click "Save to API Service" button in PopClip's action bar
3. **View Result**: The extension will show success or failure notification

### ğŸ”„ Version History

| Version | Release Date | Key Updates |
|---------|--------------|-------------|
| **v5.4** | 2024-01 | ğŸ”§ Added network entitlement, fixed XMLHttpRequest permission error |
| **v5.3** | 2024-01 | ğŸš€ Switched to asynchronous requests for better UX and stability |
| **v5.2** | 2024-01 | ğŸŒ Support for new API format `/c/api/save/TOKEN` |
| **v5.1** | 2024-01 | ğŸ”— Added cubox.pro domain support |
| **v5.0** | 2024-01 | ğŸ“ Fixed PopClip standard format compatibility |
| **v4.x** | 2023-12 | ğŸ› Multiple bug fixes and optimizations |
| **v1.0** | 2023-11 | ğŸ‰ Initial release |

### ğŸ”§ Troubleshooting

#### Common Errors and Solutions

| Error Message | Cause | Solution |
|---------------|-------|----------|
| "Please set API URL in settings" | API URL not configured | Add target service's API URL in extension settings |
| "Please set your API URL" | API URL not configured | Add target service's API URL in extension settings |
| "No text selected" | No text selected | Select some text before using the extension |
| "Authentication failed" | API authentication failed | Verify the API Key is correct |
| "Network error" | Network connection issue | Check network connection or retry later |
| "Using XMLHttpRequest requires the 'network' entitlement" | Missing network permission | Ensure the extension has network permission |

### ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit Issues and Pull Requests.

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/amazing-feature`
3. Commit your changes: `git commit -m 'Add amazing feature'`
4. Push to the branch: `git push origin feature/amazing-feature`
5. Submit a Pull Request

### ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

### ğŸ™ Acknowledgments

- [PopClip](https://pilotmoon.com/popclip/) - Excellent macOS text manipulation tool
- All contributors and users for their feedback

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Starï¼**

**If this project helps you, please give it a â­ï¸ Star!**

</div>
